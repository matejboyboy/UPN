
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        body {
            background-color: darkgrey;
            font-family: 'Courier New', Courier, monospace;
        }


        .inputField {
            font-size: 50px;
            text-align: left;
            margin-top: 5%;
            width: 90%;
            height: 50px;
            border: none;
            background-color: lightgrey;
            border-radius: 5px;
            padding: 10px;

        }

        .word {
            font-size: 50px;
            text-align: center;
            margin-top: 10%;
        }

        .red_letter {
            color: red;
        }

        .green_letter {
            color: green;
        }

        .start {
            display: flex;
            justify-content: center;
            font-size: 500%;
            font-weight: bold;
        }

        .end {
            display: flex;
            justify-content: center;
            font-size: 500%;
            font-weight: bold;
            margin-top: 10%;
        }

        button {
            padding: 20px 40px;
            font-size: 24px;
            margin: 5% auto;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            display: block;
        }

    </style>
</head>

<body>
    <header>
        <a href="/">home</a>
        <a href="/word_count">WORDS</a>
    </header>
    <div id="start"></div>
    <div id="word" class="word"> {{word}}
        <input id="input" type="text" class="inputField">
    </div>

   

    <div id="end">
    </div>

    <button id="reset">Restart</button>

    <script src="../static/js/typing_logic.js">
    </script>
    <script>
        let word = document.getElementById('word').textContent.trim();
        let UserInput = document.getElementById('input');
        let start = document.getElementById('start');
        start.innerHTML = "Start typing!";
        start.setAttribute("class", "start");
        let end = document.getElementById('end');

        UserInput.oninput = function() {
            let index = UserInput.value.length;
                start.remove();
                if(UserInput.value.length > 0){

                //uzet rabs length od UserInput in pol uzet ta int in dt za index od word
                    if (UserInput.value[index - 1] === word[index - 1] ){ //-1 zato kr length zacne na 1, index pa na 0
                        UserInput.style.color = "green";
                        console.log("right");
                    } else {
                        UserInput.style.color = "red";
                        console.log("wrong");
                    }
                } else {
                    UserInput.setAttribute("class", "inputField");
                }
                
            if (UserInput.value.length === word.length) {
                end.innerHTML = "You finished!";
                end.setAttribute("class", "end");
                UserInput.readOnly = true;
            }

        }


        document.getElementById("reset").onclick = function() {
            window.location.reload();
        };


    </script>
</body>




</body>

</html>