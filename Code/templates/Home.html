<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Roboto+Slab:wght@600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="/static/css/style.css">
  <title>Lessons</title>
  <style>
    body {
      background: #151515;
    }
    .card {
      position: relative;
    }
    .card.completed::after {
      content: "★";
      color: gold;
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.5em;
      pointer-events: none; /* so it doesn’t block clicks */
    }
  </style>
</head>

<body class="dark" data-completed-lessons="{{ completed_lessons | tojson }}">
  <nav id="dark-main-nav" class="dark-glass">
    <div class="dark-nav-container">
      <a href="/" id="dark-nav-brand">
        <span class="dark-logo-primary">Type</span>
        <span class="dark-logo-secondary">Master</span>
      </a>
      <div id="dark-nav-links" class="dark-nav-links">
        <a href="/words" class="dark-nav-link">Words</a>
        <a href="/leaderboard" class="dark-nav-link">Leaderboard</a>
        {% if 'username' in session %}
        <a href="/profile" class="dark-nav-link">Profile</a>
        {% else %}
        <a href="/login" class="dark-nav-link">Login</a>
        {% endif %}
      </div>
    </div>
  </nav>
  <section id="section-srednja" class="lesson-section alt-bg">
    <h2 class="section-title">
      Srednja Vrstica
    </h2>
    <ul class="lesson-list">
      <li class="card"><a href="lesson/001" class="card-link">fj - first keys</a></li>
      <li class="card"><a href="lesson/002" class="card-link">Repeting first keys</a></li>
      <li class="card"><a href="lesson/003" class="card-link">Adding spaces</a></li>
      <li class="card"><a href="lesson/004" class="card-link">Repeting spaced key stokes</a></li>
      <li class="card"><a href="lesson/005" class="card-link">dk - new keys</a></li>
      <li class="card"><a href="lesson/006" class="card-link">Reapeting dk</a></li>
      <li class="card"><a href="lesson/007" class="card-link">Adding spaces</a></li>
      <li class="card"><a href="lesson/008" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/009" class="card-link">sl - new keys</a></li>
      <li class="card"><a href="lesson/010" class="card-link">Reapting sl</a></li>
      <li class="card"><a href="lesson/011" class="card-link">Adding spaces</a></li>
      <li class="card"><a href="lesson/012" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/013" class="card-link">ač - new keys</a></li>
      <li class="card"><a href="lesson/014" class="card-link">Reapeting ač</a></li>
      <li class="card"><a href="lesson/015" class="card-link">Adding spaces</a></li>
      <li class="card"><a href="lesson/016" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/017" class="card-link">Left hand only</a></li>
      <li class="card"><a href="lesson/018" class="card-link">Right hand only</a></li>
      <li class="card"><a href="lesson/019" class="card-link">gh - new keys</a></li>
      <li class="card"><a href="lesson/020" class="card-link">Reapeting gh</a></li>
      <li class="card"><a href="lesson/021" class="card-link">Combinnig keys</a></li>
      <li class="card"><a href="lesson/022" class="card-link">Forming words</a></li>
      <li class="card"><a href="lesson/23" class="card-link">More words</a></li>
    </ul>
  </section>
  <section id="section-zgornja" class="lesson-section">
    <h2 class="section-title">
      Zgornja Vrstica
    </h2>
    <ul class="lesson-list">
      <li class="card"><a href="lesson/024" class="card-link">ru - new keys</a></li>
      <li class="card"><a href="lesson/025" class="card-link">Reapeting ru</a></li>
      <li class="card"><a href="lesson/026" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/027" class="card-link">Some words</a></li>
      <li class="card"><a href="lesson/028" class="card-link">ei - new keys</a></li>
      <li class="card"><a href="lesson/029" class="card-link">Reapeting ei</a></li>
      <li class="card"><a href="lesson/030" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/031" class="card-link">Some words</a></li>
      <li class="card"><a href="lesson/032" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/033" class="card-link">Left hand only</a></li>
      <li class="card"><a href="lesson/034" class="card-link">Right hand only</a></li>
      <li class="card"><a href="lesson/035" class="card-link">wo - new keys</a></li>
      <li class="card"><a href="lesson/036" class="card-link">Reapeting wo</a></li>
      <li class="card"><a href="lesson/037" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/038" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/039" class="card-link">qz - new keys</a></li>
      <li class="card"><a href="lesson/040" class="card-link">Reapeting qz</a></li>
      <li class="card"><a href="lesson/041" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/042" class="card-link">Forming words</a></li>
      <li class="card"><a href="lesson/043" class="card-link">tp - new keys</a></li>
      <li class="card"><a href="lesson/044" class="card-link">Reapeting tp</a></li>
      <li class="card"><a href="lesson/045" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/046" class="card-link">Forming sentences</a></li>
    </ul>
  </section>
  <section id="section-spodnja" class="lesson-section alt-bg">
    <h2 class="section-title">
      Spodnja Vrstica
    </h2>
    <ul class="lesson-list">
      <li class="card"><a href="lesson/047" class="card-link">vm - new keys</a></li>
      <li class="card"><a href="lesson/048" class="card-link">Reapting vm</a></li>
      <li class="card"><a href="lesson/049" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/050" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/051" class="card-link">difficult key patterns - mju</a></li>
      <li class="card"><a href="lesson/052" class="card-link">difficult key patterns - vfr</a></li>
      <li class="card"><a href="lesson/053" class="card-link">c, - new keys</a></li>
      <li class="card"><a href="lesson/054" class="card-link">Reapeting c,</a></li>
      <li class="card"><a href="lesson/055" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/056" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/057" class="card-link">difficult key patterns - ,ki</a></li>
      <li class="card"><a href="lesson/058" class="card-link">difficult key patterns - cde</a></li>
      <li class="card"><a href="lesson/059" class="card-link">x. - new keys</a></li>
      <li class="card"><a href="lesson/060" class="card-link">Reapeting x.</a></li>
      <li class="card"><a href="lesson/061" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/062" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/063" class="card-link">difficult key patterns - .lo</a></li>
      <li class="card"><a href="lesson/064" class="card-link">difficult key patterns - xsw</a></li>
      <li class="card"><a href="lesson/065" class="card-link">y - new key</a></li>
      <li class="card"><a href="lesson/066" class="card-link">Spaced y</a></li>
      <li class="card"><a href="lesson/067" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/068" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/069" class="card-link">difficult key patterns - čp</a></li>
      <li class="card"><a href="lesson/070" class="card-link">difficult key patterns - yaq</a></li>
      <li class="card"><a href="lesson/071" class="card-link">bn - new keys</a></li>
      <li class="card"><a href="lesson/072" class="card-link">Reapeting bn</a></li>
      <li class="card"><a href="lesson/073" class="card-link">Combining keys</a></li>
      <li class="card"><a href="lesson/074" class="card-link">Forming sentences</a></li>
      <li class="card"><a href="lesson/075" class="card-link">Left hand only</a></li>
      <li class="card"><a href="lesson/076" class="card-link">Right hand only</a></li>
      <li class="card"><a href="lesson/077" class="card-link">More sentences</a></li>
      <li class="card"><a href="lesson/078" class="card-link">difficult key patterns - .čp</a></li>
      <li class="card"><a href="lesson/079" class="card-link">difficult key patterns combined</a></li>
      <li class="card"><a href="lesson/080" class="card-link">Sentences with -Enter-</a></li>
      <li class="card"><a href="lesson/081" class="card-link">More sentences with -Enter-</a></li>
      <li class="card"><a href="lesson/082" class="card-link">Long sentences</a></li>
      <li class="card"><a href="lesson/083" class="card-link">Longer sentences</a></li>
      <li class="card"><a href="lesson/084" class="card-link">Final tutorial sentence</a></li>
    </ul>
  </section>
  <section id="section-utrjevanje" class="lesson-section">
    <h2 class="section-title">
      Utrjevanje
    </h2>
    <ul class="lesson-list">
      <li class="card"><a href="lesson/085" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/086" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/087" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/088" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/089" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/090" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/091" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/092" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/093" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/094" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/095" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/096" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/097" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/098" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/099" class="card-link">Sentences with difficult words</a></li>
      <li class="card"><a href="lesson/100" class="card-link">Left hand only</a></li>
      <li class="card"><a href="lesson/101" class="card-link">Right hand only</a></li>
      <li class="card"><a href="lesson/102" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/103" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/104" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/105" class="card-link">Sentences for exercise</a></li>
      <li class="card"><a href="lesson/106" class="card-link">Sentences for exercise</a></li>
    </ul>
  </section>
  </main>
  <footer id="main-footer" class="glass">
    <p>© 2024 TypeMaster</p>
  </footer>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Select all elements with the class 'card' (lesson cards)
      const cards = document.querySelectorAll(".card");
      // Create an IntersectionObserver to monitor when cards enter the viewport
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            // Add 'visible' class to trigger animation (e.g., fade-in)
            e.target.classList.add("visible");
            // Stop observing the element to optimize performance
            obs.unobserve(e.target);
          }
        });
      // Set observer to trigger when 10% of the element is visible
      }, { threshold: 0.1 });
      // Start observing each card for visibility
      cards.forEach(c => obs.observe(c));
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      // Parse the JSON string from the body's data-completed-lessons attribute into an array
      const completedLessons = JSON.parse(
        document.body.dataset.completedLessons
      );
      // Iterate over all elements with the class 'card'
      document.querySelectorAll('.card').forEach(card => {
        const link = card.querySelector('a');
        if (!link) return;
        // Split the href attribute (e.g., 'lesson/001') into segments
        const segments = link.getAttribute('href').split('/');
        // Extract the last segment (lesson number) and convert to a number
        const lessonNumber = Number(segments.pop());
        // Check if lessonNumber is a valid integer and in completedLessons
        if (Number.isInteger(lessonNumber)
          && completedLessons.includes(lessonNumber)
        ) {
          // Add 'completed' class to mark the card as completed (shows gold star)
          card.classList.add('completed');
        }
      });
    });
</script>
<script>
    document.querySelectorAll('card').forEach(card => {
      // Add click event listener to toggle the 'completed' class
      card.addEventListener('click', function () {
        // Toggle the 'completed' class on click (adds/removes gold star)
        card.classList.toggle('completed');
      });
    });
</script>
</body>

</html>
